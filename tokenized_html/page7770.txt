amber d bradshaw-whitear md find a doctor ogden regional medical center find a doctor patients visitors medical professionals online tools services about us find a doctor patients visitors medical professionals online tools services about us ogden regional pleasant view emergency center ogden regional pleasant view emergency center ogden regional medical center ogden regional medical center accepts most insurance contact your insurance provider for coverage information ogden regional medical center 5475 s 500 e br ogden ut 84405 telephone 801 479-2111 p highlights careers physician careers newsroom maps and directions find clinics health insurance plans see me same day essentials contact us our services medical records request pricing information privacy practices public notice follow us follow us on facebook follow us on twitter follow us on youtube read our blog ogden regional medical center 5475 s 500 e br ogden ut 84405 telephone 801 479-2111 p quick links highlights careers physician careers newsroom maps and directions find clinics health insurance plans see me same day essentials contact us our services medical records request pricing information privacy practices public notice follow us on facebook follow us on twitter follow us on youtube read our blog mountainstar health 6985 union park center suite 500 cottonwood heights ut 84047 mountainstar family hospitals mountainstar healthcare brigham city community hospital cache valley hospital lakeview hospital lone peak hospital mountain view hospital payson ogden regional medical center st. mark 's hospital timpanogos regional hospital copyright 1999-2019 c-hca inc. all rights reserved a href= legal/index.dot terms data-legal= terms class= terms-and-conditions terms conditions privacy policy social media policy acceptable use policy hca nondiscrimination notice accessibility responsible disclosure copyright 1999-2019 c-hca inc. all rights reserved terms conditions privacy policy social media policy acceptable use policy hca nondiscrimination notice accessibility responsible disclosure var widget_data feed_titles mountain mountain location_division facilities ogden regional pleasant view er min_format mins include_hours false pub_date_format mmm d yyyy pub_time_format h mma pub_date_format_header m/dd pub_time_format_header h mma /*er_wait_times_v1.jsjavascript that pulls er wait time datatitle er wait timesversion 2.1 fw2 author jeremiah weeden-wright/brian traughberbased on fw2 er wait time widgetdate updated 03/31/15*/// global varsvar er_widget_data // date from the widget saved from the htmlvar er_feed_results // actual results returned from querying the feedsvar er_feeds // list of actual urls to query and statusvar total_er_feeds 0 var er_feeds_processed 0 var er_use_cufon false var er_max_feed_attempts 5 var er_feed_attempt_interval 2000 var feed_pub_datetime var feed_pub_date var feed_pub_time var er_wait_time_loaded false // initialize google feeds for ajax query of er feeds//google.load feeds 1 // on page load get the feed window .load function // varsvar er_feed_names // unique list of feed names from the widget data// save all the required feeds to a list removing duplicatesif widget_data.feed_titles.indexof -1 widget_data.feed_titles.split .each function var found false var facility_title .trim this // look up feeds from feed titlesfor var i 0 i er_feed_names.length i++ // if it already is in the list its a dup ignore itif facility_title == er_feed_names i found true break if found er_feed_names.push facility_title else // only a single record check for dupsvar found false // look up feeds from feed titlesfor var i 0 i er_feed_names.length i++ // if it already is in the list its a dup ignore itif widget_data.feed_titles == er_feed_names i found true break if found er_feed_names.push widget_data.feed_titles // only setup the drop down functionality if dropdown is selected// only 1 dropdown per page will function correctlyif widget_data.facilities.split .length 2 widget_data.type 'list '.ehc-er-disclaimer .hide '.ehc-er-facility-select .change function if this .val == 'select facility '.ehc-er-facility-option rel .hide '.ehc-er-disclaimer .hide '.ehc-er-facility-dropdown-message .show else '.ehc-er-facility-option rel .hide 'li rel= er time '+ this .val .show '.ehc-er-facility-dropdown-message .hide '.ehc-er-disclaimer .show // cache the widget dataer_widget_data.push widget_data // look up the actual feed url and other info in the global variable er_wait_time_feedsfor var i 0 i er_feed_names.length i ++ for var j 0 j er_wait_time_feeds.length j++ if er_feed_names i == er_wait_time_feeds j .feed_name //console.log feed name +er_wait_time_feeds j .feed_name var er_feed_map feed_info er_wait_time_feeds j status setup er_feeds.push er_feed_map total_er_feeds total_er_feeds 1 break // go through each feed and cache the feed data er_feeds .each function getfeed this //console.log get some feeds // sleep in an iterative loop and use a for loop to check if all feeds were successfulsettimeout function checkfeedsforsuccess 0 ,3000 // recursive function need to make sure it stops itself after max feed attempts is reachedfunction checkfeedsforsuccess attempts // double check and make sure that not all feeds have returnedif er_feeds_processed total_er_feeds // hide message show loader// '.ehc-er-loading .ehc-er-load-message .hide // '.ehc-er-loading img .show '.ehc-er-wait .addclass 'feed-loading .removeclass 'feed-error // check feedsvar done_searching true er_feeds .each function if this.status success getfeed this done_searching false attempts attempts 1 if attempts er_max_feed_attempts done_searching t=settimeout checkfeedsforsuccess +attempts+ er_feed_attempt_interval else if typeof console == undefined console.log too many tries // max tries hide the loading bar and present message retry calls this method again '.ehc-er-wait .addclass 'feed-error .removeclass 'feed-loading // '.ehc-er-loading .ehc-er-load-message .show //.html could not retrieve er feeds retry // retrieves the feed and sends the json data to processfeedfunction getfeed er_feed_map fallback var er_feed_url er_feed_map.feed_info.json_url division_feed er_feed_map.feed_info.feed_name .support.cors true var json_request if window.xdomainrequest //keep old urler_feed_url location.protocol+ // er_feed_url += location.protocol.indexof https -1 core.secure.ehc.com core.ehc.com er_feed_url += /src/widgets/er-wait-times/pages/er-wait-service-controller.dot feed_title= +division_feed json_request new xdomainrequest json_request.open get er_feed_url else if window.xmlhttprequest //modern browsers supported ie11+ chrome firefox safarijson_request new xmlhttprequest json_request.open get er_feed_url true else json_request new activexobject microsoft.xmlhttp er_feed_url location.protocol+ // er_feed_url += location.protocol.indexof https -1 core.secure.ehc.com core.ehc.com er_feed_url += /src/widgets/er-wait-times/pages/er-wait-service-controller.dot feed_title= +division_feed json_request new xdomainrequest json_request.open get er_feed_url json_request.onload function var json .parsejson json_request.responsetext if json == null || typeof json == 'undefined json .parsejson data.firstchild.textcontent getfeedsuccess json er_feed_map json_request.send json_request.onerror function er_feed_map.status fail function getfeedsuccess data er_feed_map var items data.rss.channel.item if items.length 0 items .each function // add all variables from feed into js arrayvar feed_result er_feed_map.status success feed_result.feed_info er_feed_map.feed_info feed_result.facility this.title feed_result.pub_date this.pubdate feed_result.er_time this.description feed_result.pub_date_formatted false er_feed_results.push feed_result er_feeds_processed er_feeds_processed 1 setupfacilitiesforwidgets else er_feed_map.status fail function setupfacilitiesforwidgets // only run this function once all facilities are returnedif er_feeds_processed == total_er_feeds // for each widget we 'll need to find the facilities for those widgets in the cached feeds er_widget_data .each function var current_widget_data this // for each facility specified in the widgetvar results current_widget_data.facilities.split .each function var er_facility this er_facility .trim er_facility // for each er_feed_resultfor i 0 i er_feed_results.length i++ // find a match for the widget 's specified facility in the feed resultsif er_feed_results i .facility == er_facility // add 00 to beginning and strip off minsvar time er_feed_results i .er_time if time.indexof coming soon == -1 time time.replace mins .replace if current_widget_data.include_hours == true // add hoursif time.length == 1 time 0 time time 00 time else time coming soon er_feed_results i .er_time time // setup the date based on the publication date setvar already_formatted er_feed_results i .pub_date_formatted if already_formatted true var pub_date_org er_feed_results i .pub_date pub_date_org pub_date_org.replace -0700/ //.replace /am/ am .replace /pm/ pm // check for and save any timezone info// all feeds are standard format with last 3 characters as timezonevar timezone pub_date_org.substring pub_date_org.length 3 pub_date_org.length pub_date_org pub_date_org.substring 0 pub_date_org.length 4 // includes removing the space// date formats are different for different feedsvar old_date_format er_feed_results i .feed_info.date_format var new_date_format current_widget_data.pub_date_format var new_time_format current_widget_data.pub_time_format var pub_date moment pub_date_org old_date_format .format new_date_format pub_time moment pub_date_org old_date_format .format new_time_format //for customizing based on areavar new_header_date_format current_widget_data.pub_date_format_header var new_header_time_format current_widget_data.pub_time_format_header var pub_date_header moment pub_date_org old_date_format .format new_header_date_format var pub_time_header moment pub_date_org old_date_format .format new_header_time_format // add timezone back to datepub_time pub_time timezone er_feed_results i .pub_date pub_date er_feed_results i .pub_time pub_time er_feed_results i .pub_date_formatted true er_feed_results i .pub_date_header pub_date_header er_feed_results i .pub_time_header pub_time_header results.push er_feed_results i break // need to use 'for loop so can break before end if match if found ca n't use .each // calculate columnsvar columns current_widget_data.columns if columns == undefined || columns == columns 1 columns parseint columns // round down keep a column count so that if we 're on the last column keep going if results.length/columns 1 0.5 var items_per_column math.floor results.length columns 1 else var items_per_column math.floor results.length columns // print results in the er-wait divvar counter 0 var column_count 0 var feed_html var er_wait_container .ehc-er-wait for e 0 e er_wait_container.length e++ if current_widget_data.facilities.split .length 2 current_widget_data.type 'list var options .ehc-er-facility-select // add in column logic results .each function // add results to the domvar this_er_time parseint this.er_time var er_wait_time_class wait-time if this_er_time 60 er_wait_time_class += high else if this_er_time 30 er_wait_time_class += med else er_wait_time_class += low //if wait time is 1 min change mins to min or minutes to minute if this_er_time == 1 var minsorminutes er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .mins .html if minsorminutes == mins er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .mins .html min else if minsorminutes == minutes er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .mins .html minute er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .attr 'class er_wait_time_class er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .time .html this.er_time er_wait_container e .find data-ertitle= '+this.facility+ a data-wait-time .attr data-wait-time this.er_time.replace /\s/g er_wait_container e .find data-ertitle= '+this.facility+ .published .pubdate .html this.pub_date er_wait_container e .find data-ertitle= '+this.facility+ .published .pubtime .html this.pub_time er_wait_container e .removeclass feed-loading else // add in column logic results .each function // logic for creating columns ul if counter == 0 column_count column_count 1 else if counter items_per_column == 0 column_count columns column_count column_count 1 var this_er_time parseint this.er_time var er_wait_time_class wait-time if this_er_time 60 er_wait_time_class += high else if this_er_time 30 er_wait_time_class += med else er_wait_time_class += low //if wait time is 1 min change mins to min if this_er_time == 1 var minsorminutes er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .mins .html if minsorminutes == mins er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .mins .html min else if minsorminutes == minutes er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .mins .html minute //console.log current facility +this.facility // add results to the dom er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .attr 'class er_wait_time_class er_wait_container e .find data-ertitle= '+this.facility+ .wait-time .time .html this.er_time er_wait_container e .find data-ertitle= '+this.facility+ a data-wait-time .attr data-wait-time this.er_time.replace /\s/g // er_wait_container e .find '.feed.published .pubtime .html feed_pub_time if er_wait_container e .attr id == header-wait-times er_wait_container e .find data-ertitle= '+this.facility+ .published .pubdate .html this.pub_date_header er_wait_container e .find data-ertitle= '+this.facility+ .published .pubtime .html this.pub_time_header else er_wait_container e .find data-ertitle= '+this.facility+ .published .pubdate .html this.pub_date er_wait_container e .find data-ertitle= '+this.facility+ .published .pubtime .html this.pub_time er_wait_container e .removeclass feed-loading // er_wait_container e .find data-ertitle= '+this.facility+ .published .pubdate .html this.pub_date // er_wait_container e .find data-ertitle= '+this.facility+ .published .pubtime .html this.pub_time // hide the loading bar '.ehc-er-loading .hide //trigger event once the er waits have loaded// trigger event once the er waits have loadedif document.createevent var event document.createevent 'event // define that the event name is 'build event.initevent 'er_wait_loaded true true document.dispatchevent event else document.fireevent er_wait_loaded //set a continuos loop check for the latest er wait time every 5 minutesif er_wait_time_loaded === false window.setinterval function update_er_wait_times 300000 er_wait_time_loaded true // this is for changing image in background if less than 480 window .resize function var browserwidth window .outerwidth if browserwidth 640 .map-wrap img .attr src //core.ehc.com/src/apps/stacks/er-wait-time/v1/svg-map-mobile.jpg else .map-wrap img .attr src //core.ehc.com/src/apps/stacks/er-wait-time/v1/svg-map.jpg .resize function update_er_wait_times // reset counterser_feeds_processed 0 er_feed_results.length 0 er_feeds .each function getfeed this var analytics_event_generic_category= analytics api analytics_event_generic_action= analytics api error window.datalayer=window.datalayer|| var gtm_supported_events= gtm_hut= hut gtm_mho= mho gtm_epay= epay gtm_fadmaa= modularized fadmaa gtm_ce= modularized class and event gtm_wci= wci is_gtm_debug=-1 ==window.location.hostname.indexof ehcstaging ||-1 ==window.location.hostname.indexof ehctest ||-1 ==window.location.hostname.indexof xrdcldwebcpp07a ||-1 ==window.location.hostname.indexof xrdclqwebcpp07a ||-1 ==window.location.hostname.indexof wwwstgcpp ||-1 ==window.location.hostname.indexof epayqa ||-1 ==window.location.hostname.indexof staging.carenow.com 0 1 function gtmdebug b 1 ==is_gtm_debug b gtmdebug \x3e loading api in gtm function getgenericlabel b var a= c for c in b a= ===a b c a+ +b c return ==a a n/a function convertarraytostring b for var a= c=0 c d 1 e 0 f 0 1 e 1 f 1 1:0 catch d gtmdebug // error sorting products gtmdebug evt for var h=15 e=-1 l=0 l =h break c=-1 if isemptyobject gtm_event_data.event_types for h=gtm_event_data.event_types l=0 l =h break l|| c=void 0 e=-1 if isemptyobject gtm_event_data.event_types for h=gtm_event_data.event_types k=0 k analyticsevent=function a b c d f h h=h|| var e= event analyticsevent eventcategory a eventaction b eventlabel c eventvalue d eventnonint f ecommerce h if featureusage ===b try var l c=function m if 0 ==performance.timing.loadeventend cleartimeout l var a=timeinseconds performance.timing.navigationstart performance.timing.dominteractive b=timeinseconds performance.timing.navigationstart performance.timing.domcomplete c=timeinseconds performance.timing.navigationstart performance.timing.loadeventend e first byte =timeinseconds performance.timing.navigationstart performance.timing.responsestart e page interactive =a e load time =b e all data loaded =c var d=0 f=0 a= var h=window.performance.getentriesbytype resource for c=0 c d d=g.duration var k=g.name g.fetchstart/1e3 k k=d.size_kilobyte var p=d.filename 0 ==b e avg kilobytes per second download speed =parsefloat b/a.length .tofixed 2 p e largest known file size kb =k e largest known file name =p datalayer.push e else l=settimeout function m ,500 c catch n console.log n else if appt5 confirmation ===b a= fadmaa-bk-appt-conf b= 1 d=analyticsgetlocalstorage a if null ==d for confirmation_ids_split=d.split f=0 f var secure_form_tracking_interval function secureformtrackingonload if function ===typeof analyticsevent clearinterval secure_form_tracking_interval var a=document.queryselectorall .secure-form-on-page if 0 function analyticsfadmaasetupapptone document.queryselectorall .pd-appointments-calendar select id^\x3dresult .foreach function a a.addeventlistener click function try analyticsevent fadmaa click appointment schedule type dropdown this.options this.options.selectedindex .text catch b a.addeventlistener change function try analyticsevent fadmaa appt1 appointment schedule type this.options this.options.selectedindex .text catch b document.getelementbyid ehc-pd-app settimeout analyticsfadmaasetupapptone,500 document.getelementbyid fadmaa-dshs-modal fadmaa-dshs-modal .queryselectorall a .foreach function a a.addeventlistener click function analyticsfadmaasetupapptone