devise and rails 3.1.0.beta1, SyntaxError in Devise::SessionsController#new · Issue #1050 · plataformatec/devise · GitHub GitHub is home to over 40 million developers working together to host and review code, manage projects, and build software together. Have a question about this project?  Sign up for a free GitHub account to open an issue and contact its maintainers and the community.   By clicking  Sign up for GitHub , you agree to our  terms of service  and     privacy statement . We’ll occasionally send you account related emails.     Already on GitHub?     Sign in     to your account   Error Message trying to login SyntaxError in Devise::SessionsController#new ~/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.1.0.beta1/lib/active_record/attribute_methods/read.rb:91: syntax error, unexpected keyword_end ~/.rvm/gems/ruby-1.9.2-p0/gems/activerecord-3.1.0.beta1/lib/active_record/attribute_methods/read.rb:93: syntax error, unexpected $end, expecting keyword_end What are the columns in your model? some custom fields, is this the problem? They shouldn't be a problem but I am afraid this is not a Devise issue but a Rails one. Does loading this same object in console works fine? no, its not loading properly: Yeah, not Devise. We need to find which column is causing the failure. ok... I try, one by one then. keep u up to date im having the same problem Here's what my table looks like: it isn't caused by the custom fields, I checked. Am 06.05.2011 um 23:23 schrieb jtmkrueger: im having the same problem Here's what my table looks like: Reply to this email directly or view it on GitHub: #1050 (comment) This is really weird. I am going to ask you guys to do some crazy debugging Go to your project root and execute: "bundle open activerecord" Open up this file lib/active_record/attribute_methods/read.rb. Go around to line 91 as here: https://github.com/rails/rails/blob/master/activerecord/lib/active_record/attribute_methods/read.rb#L91 puts method_name.inspect puts access_code.inspect Restart your server and reproduce the error again. Please report what was printed on console. Also, which DB are you using? when I try that I get: probably don't have something turned on... I'm using mysql with the mysql2 gem enter this: (if you have textmate) export BUNDLER_EDITOR=mate Am 06.05.2011 um 23:36 schrieb jtmkrueger: when I try that I get: bundle open activerecord To open a bundled gem, set $EDITOR or $BUNDLER_EDITOR probably don't have something turned on... Reply to this email directly or view it on GitHub: #1050 (comment) @jtmkrueger  It seems the relevant info was not printed in your console. :( @josevalim  Here is where I stuck those inspects: I don't think it's hitting that method.  I stuck a raise on both sides of the else, and didn't see my message I found out! At least something: With sqlite3 it works, with mysql2 not. (basic dummy app) Am 06.05.2011 um 23:45 schrieb josevalim: @jtmkrueger  It seems the relevant info was not printed in your console. :( Reply to this email directly or view it on GitHub: #1050 (comment) Try "bundle update mysql2" in this new app, does it solve the issue? I take that back! when I put the raise on the other side of the else, I got my exception. @jtmkrueger  can you pin point now exactly which method_name is failing? maybe you can put the puts statements before the if/else. :) at my side, it resolves the issue! Am 06.05.2011 um 23:59 schrieb jtmkrueger: I take that back! when I put the raise on the other side of the else, I got my exception. Reply to this email directly or view it on GitHub: #1050 (comment) Ok, so can everyone try "bundle update mysql2" and check if it solves the issue? Riiiiight, this line: https://github.com/rails/rails/blob/master/activerecord/lib/active_record/attribute_methods/read.rb#L65 Is returning empty string for old mysql2 versions. Updating mysql2 should fix it! :D updating the mysql2 gem worked for me as well!  Good work  @josevalim thnx for helping, josé Am 07.05.2011 um 00:05 schrieb jtmkrueger: updating the mysql2 gem worked for me as well!  Good work  @josevalim Reply to this email directly or view it on GitHub: #1050 (comment) here is what I get with mysql2: and... sorry... acutally it was a bad debugging approach of mine. kinda to late, it seems here ;-) Thnx for the good work btw. on devise! Am 07.05.2011 um 00:04 schrieb josevalim: Riiiiight, this line: https://github.com/rails/rails/blob/master/activerecord/lib/active_record/attribute_methods/read.rb#L65 Is returning empty string for old mysql2 versions. Updating mysql2 should fix it! :D Reply to this email directly or view it on GitHub: #1050 (comment) (just stuck that up for brevity) 