how to enable tcp keep alive for iis stack overflow by using our site you acknowledge that you have read and understand our cookie policy privacy policy and our terms of service all i have a web site that produces reports based upon user inputs in to a web page queries a backend db using classic asp and crystal reports if the report takes over 30 minutes to run the firewall that sits in between the client and the web server drops the connection as it has been sat idle so the report never gets displayed to the user to avoid this i need to use some sort of keep alive either http or tcp the web server in windows 2000 on iis 6 i 've created the registry keys in windows for the tcp keepalive and disabled the tcp offload features in the network card which i 've heard can causes issues however iis does n't seem to use this by default i did download and test on the server a socket tester called tcp/ip builder www.drk.com.ar which allows you to turn on and off the keepalive which works fine so i know the server can send them does anyone know how to force iis to use tcp keepalives as i 'm presuming that it must be 'enabled for iis thanks its not a iis setting but a system wide os one by default it is set to a ridiculously high 2hours based on the 1989 spec for tcp http //tools.ietf.org/html/rfc1122 page-101 but you can change the keepalivetime in the registry to a more practical time for todays comms as you have found out timeout way before that heres how from http //support.microsoft.com/kb/120642 in hkey_local_machine\system\currentcontrolset\services tcpip\parametersadapter name\parameters\tcpip optional parameters configurable using registry editor these parameters normally do not exist in the registry they may be created to modify the default behavior of the tcp/ip protocol driver keepalivetime key tcpip\parametersvalue type reg_dword time in millisecondsvalid range 1 0xffffffffdefault 7,200,000 two hours description the parameter controls how often tcp attempts to verify that an idle connection is still intact by sending a keep alive packet if the remote system is still reachable and functioning it will acknowledge the keep alive transmission keep alive packets are not sent by default this feature may be enabled on a connection by an application as to what value to use im still trying to find out myself keep alive tcp/ip connected sockets over the internet when how and how much but it sounds like you want something less than your known 30 mins which i think is v. long by the way here 's the either http one enabling http keep-alives iis 6.0 click here to upload your image max 2 mib cancel and add another image you can also provide a link from the web log in by clicking post your answer you agree to our terms of service privacy policy and cookie policy 2019 stack exchange inc