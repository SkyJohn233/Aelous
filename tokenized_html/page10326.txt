import java classes into painless script elasticsearch discuss the elastic stack hi i am migrating from an old version of elasticsearch 1.4.4 i had a groovy script that was importing classes from the java classpath with my earlier script i was executing updates conditionally with the new version 6.2.3 groovy is no longer supported and i have no idea how i can achieve the same functionality with painless i do not know whether i need to implement a scriptengine and if yes where can i find some examples for a scriptengine that will do updates i have searched on google and also these forums but have found nothing beyond the boilerplate code for a searchscript engine here is some example code from my earlier script if anyone can guide me on how to implement updates using a scriptengine i would be really obliged or alternatively how do i import my custom java classes into a painless script many thanks b as of 6.2 painless can now have it 's whitelist extended by plugins unfortunately this is not well documented yet but we do have an example plugin the basic idea is to create a plugin that extends painless and tells painless about additional whitelist elements through spi the whitelist is per script context so you will need to add these elements for any types of scripts you use there is no central list of script contexts but it looks like in this case you are using an update script so that would be the update context in your script you can then use the classes no importing necessary hi thank you for your reply unfortunately i am not able to gather enough information to know how to do this can you please give me a simple example script please see the example plugin i linked in my last comment this topic was automatically closed 28 days after the last reply new replies are no longer allowed powered by discourse best viewed with javascript enabled