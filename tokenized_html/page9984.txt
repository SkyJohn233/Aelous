change local password as root after configuring for ms-ad kerberos+ldap server fault by using our site you acknowledge that you have read and understand our cookie policy privacy policy and our terms of service i have followed this excellent post to configure kerberos ldap http //koo.fi/blog/2013/01/06/ubuntu-12-04-active-directory-authentication/ however there are some local users used for services when i try to change the password for one of those as root it asks for current kerberos password then exits if i switch to the local user and do passwd it asks once for kerberos then falls back to local passwd current kerberos password changing password for service1 current unix password my configuration is similar to the site i posted above and everything works fine i just ca n't change the local users passwords as root thanks in advance for any help 3.8.0-29-generic 42~precise1-ubuntu in your /etc/pam.d/common-password change the minimum_uid in your first line to something bigger than 1000 example that worked for me this is what you should see in /var/log/auth.log after changing the password for that user as root if your users are using kerberos password you can remove kerberos password management from pam because the kerberos password can be changed with command kpasswd ameer 's answer about editing common-password is correct but when you edit the uid limits of pam in general do n't forget to edit all the affected pam files if you search for krb5 in /etc/pam.d you should find all the relevant files if for example you 've only edited common-auth but not common-password authentication works with local accounts but passwd still asks for the current kerberos password which is exactly the mistake that led me here click here to upload your image max 2 mib cancel and add another image you can also provide a link from the web log in by clicking post your answer you agree to our terms of service privacy policy and cookie policy 2019 stack exchange inc